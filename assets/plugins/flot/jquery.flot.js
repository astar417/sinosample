(function(b){b.color={};b.color.make=function(f,e,c,d){var g={};g.r=f||0;g.g=e||0;g.b=c||0;g.a=d!=null?d:1;g.add=function(j,i){for(var h=0;h<j.length;++h){g[j.charAt(h)]+=i}return g.normalize()};g.scale=function(j,i){for(var h=0;h<j.length;++h){g[j.charAt(h)]*=i}return g.normalize()};g.toString=function(){if(g.a>=1){return"rgb("+[g.r,g.g,g.b].join(",")+")"}else{return"rgba("+[g.r,g.g,g.b,g.a].join(",")+")"}};g.normalize=function(){function h(j,k,i){return k<j?j:(k>i?i:k)}g.r=h(0,parseInt(g.r),255);g.g=h(0,parseInt(g.g),255);g.b=h(0,parseInt(g.b),255);g.a=h(0,g.a,1);return g};g.clone=function(){return b.color.make(g.r,g.b,g.g,g.a)};return g.normalize()};b.color.extract=function(d,c){var e;do{e=d.css(c).toLowerCase();if(e!=""&&e!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(e=="rgba(0, 0, 0, 0)"){e="transparent"}return b.color.parse(e)};b.color.parse=function(f){var e,c=b.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10))}if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]))}if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55)}if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(f)){return c(parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55,parseFloat(e[4]))}if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return c(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16))}if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return c(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16))}var d=b.trim(f).toLowerCase();if(d=="transparent"){return c(255,255,255,0)}else{e=a[d]||[0,0,0];return c(e[0],e[1],e[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(a){function c(ad,p,Z,ai){var am=[],Y={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},k=null,aa=null,C=null,o=null,U=null,aA=[],aB=[],ag={left:0,right:0,top:0,bottom:0},n=0,l=0,ah=0,af=0,O={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ae=this;ae.setData=an;ae.setupGrid=at;ae.draw=q;ae.getPlaceholder=function(){return ad};ae.getCanvas=function(){return k};ae.getPlotOffset=function(){return ag};ae.width=function(){return ah};ae.height=function(){return af};ae.offset=function(){var aC=C.offset();aC.left+=ag.left;aC.top+=ag.top;return aC};ae.getData=function(){return am};ae.getAxes=function(){var aD={},aC;a.each(aA.concat(aB),function(aE,aF){if(aF){aD[aF.direction+(aF.n!=1?aF.n:"")+"axis"]=aF}});return aD};ae.getXAxes=function(){return aA};ae.getYAxes=function(){return aB};ae.c2p=m;ae.p2c=i;ae.getOptions=function(){return Y};ae.highlight=M;ae.unhighlight=az;ae.triggerRedrawOverlay=ay;ae.pointOffset=function(aC){return{left:parseInt(aA[h(aC,"x")-1].p2c(+aC.x)+ag.left,10),top:parseInt(aB[h(aC,"y")-1].p2c(+aC.y)+ag.top,10)}};ae.shutdown=av;ae.resize=function(){H();al(k);al(aa)};ae.hooks=O;Q(ae);ac(Z);ar();an(p);at();q();j();function D(aD,aC){aC=[ae].concat(aC);for(var aE=0;aE<aD.length;++aE){aD[aE].apply(this,aC)}}function Q(){for(var aC=0;aC<ai.length;++aC){var aD=ai[aC];aD.init(ae);if(aD.options){a.extend(true,Y,aD.options)}}}function ac(aE){var aC;a.extend(true,Y,aE);if(Y.xaxis.color==null){Y.xaxis.color=Y.grid.color}if(Y.yaxis.color==null){Y.yaxis.color=Y.grid.color}if(Y.xaxis.tickColor==null){Y.xaxis.tickColor=Y.grid.tickColor}if(Y.yaxis.tickColor==null){Y.yaxis.tickColor=Y.grid.tickColor}if(Y.grid.borderColor==null){Y.grid.borderColor=Y.grid.color}if(Y.grid.tickColor==null){Y.grid.tickColor=a.color.parse(Y.grid.color).scale("a",0.22).toString()}for(aC=0;aC<Math.max(1,Y.xaxes.length);++aC){Y.xaxes[aC]=a.extend(true,{},Y.xaxis,Y.xaxes[aC])}for(aC=0;aC<Math.max(1,Y.yaxes.length);++aC){Y.yaxes[aC]=a.extend(true,{},Y.yaxis,Y.yaxes[aC])}if(Y.xaxis.noTicks&&Y.xaxis.ticks==null){Y.xaxis.ticks=Y.xaxis.noTicks}if(Y.yaxis.noTicks&&Y.yaxis.ticks==null){Y.yaxis.ticks=Y.yaxis.noTicks}if(Y.x2axis){Y.xaxes[1]=a.extend(true,{},Y.xaxis,Y.x2axis);Y.xaxes[1].position="top"}if(Y.y2axis){Y.yaxes[1]=a.extend(true,{},Y.yaxis,Y.y2axis);Y.yaxes[1].position="right"}if(Y.grid.coloredAreas){Y.grid.markings=Y.grid.coloredAreas}if(Y.grid.coloredAreasColor){Y.grid.markingsColor=Y.grid.coloredAreasColor}if(Y.lines){a.extend(true,Y.series.lines,Y.lines)}if(Y.points){a.extend(true,Y.series.points,Y.points)}if(Y.bars){a.extend(true,Y.series.bars,Y.bars)}if(Y.shadowSize!=null){Y.series.shadowSize=Y.shadowSize}if(Y.highlightColor!=null){Y.series.highlightColor=Y.highlightColor}for(aC=0;aC<Y.xaxes.length;++aC){K(aA,aC+1).options=Y.xaxes[aC]}for(aC=0;aC<Y.yaxes.length;++aC){K(aB,aC+1).options=Y.yaxes[aC]}for(var aD in O){if(Y.hooks[aD]&&Y.hooks[aD].length){O[aD]=O[aD].concat(Y.hooks[aD])}}D(O.processOptions,[Y])}function an(aC){am=ab(aC);F();aj()}function ab(aC){var aE=[];for(var aD=0;aD<aC.length;++aD){var aF=a.extend(true,{},Y.series);if(aC[aD].data!=null){aF.data=aC[aD].data;delete aC[aD].data;a.extend(true,aF,aC[aD]);aC[aD].data=aF.data}else{aF.data=aC[aD]}aE.push(aF)}return aE}function h(aE,aD){var aC=aE[aD+"axis"];if(typeof aC=="object"){aC=aC.n}if(typeof aC!="number"){aC=1}return aC}function e(){return a.grep(aA.concat(aB),function(aC){return aC})}function m(aE){var aF={},aD,aC;for(aD=0;aD<aA.length;++aD){aC=aA[aD];if(aC&&aC.used){aF["x"+aC.n]=aC.c2p(aE.left)}}for(aD=0;aD<aB.length;++aD){aC=aB[aD];if(aC&&aC.used){aF["y"+aC.n]=aC.c2p(aE.top)}}if(aF.x1!==undefined){aF.x=aF.x1}if(aF.y1!==undefined){aF.y=aF.y1}return aF}function i(aF){var aG={},aD,aC,aE;for(aD=0;aD<aA.length;++aD){aC=aA[aD];if(aC&&aC.used){aE="x"+aC.n;if(aF[aE]==null&&aC.n==1){aE="x"}if(aF[aE]!=null){aG.left=aC.p2c(aF[aE]);break}}}for(aD=0;aD<aB.length;++aD){aC=aB[aD];if(aC&&aC.used){aE="y"+aC.n;if(aF[aE]==null&&aC.n==1){aE="y"}if(aF[aE]!=null){aG.top=aC.p2c(aF[aE]);break}}}return aG}function K(aC,aD){if(!aC[aD-1]){aC[aD-1]={n:aD,direction:aC==aA?"x":"y",options:a.extend(true,{},aC==aA?Y.xaxis:Y.yaxis)}}return aC[aD-1]}function F(){var aJ=am.length,aI=-1,aH;for(aH=0;aH<am.length;++aH){var aL=am[aH].color;if(aL!=null){aJ--;if(typeof aL=="number"&&aL>aI){aI=aL}}}if(aJ<=aI){aJ=aI+1}var aC,aG=[],aE=Y.colors,aF=aE.length,aO=0;for(aH=0;aH<aJ;aH++){aC=a.color.parse(aE[aH%aF]||"#666");if(aH%aF==0&&aH){if(aO>=0){if(aO<0.5){aO=-aO-0.2}else{aO=0}}else{aO=-aO}}aG[aH]=aC.scale("rgb",1+aO)}var aD=0,aK;for(aH=0;aH<am.length;++aH){aK=am[aH];if(aK.color==null){aK.color=aG[aD].toString();++aD}else{if(typeof aK.color=="number"){aK.color=aG[aK.color].toString()}}if(aK.lines.show==null){var aN,aM=true;for(aN in aK){if(aK[aN]&&aK[aN].show){aM=false;break}}if(aM){aK.lines.show=true}}if(aK.lines.zero==null){aK.lines.zero=!!aK.lines.fill}aK.xaxis=K(aA,h(aK,"x"));aK.yaxis=K(aB,h(aK,"y"))}}function aj(){var aV=Number.POSITIVE_INFINITY,aE=Number.NEGATIVE_INFINITY,aI=Number.MAX_VALUE,aK,aM,aN,aP,aO,aU,aS,aT,aY,a1,aD,aX,aH,aR,aF,aJ;function aW(a4,a6,a5){if(a6<a4.datamin&&a6!=-aI){a4.datamin=a6}if(a5>a4.datamax&&a5!=aI){a4.datamax=a5}}a.each(e(),function(a4,a5){a5.datamin=aV;a5.datamax=aE;a5.used=false});for(aK=0;aK<am.length;++aK){aU=am[aK];aU.datapoints={points:[]};D(O.processRawData,[aU,aU.data,aU.datapoints])}for(aK=0;aK<am.length;++aK){aU=am[aK];aF=aU.data;aJ=aU.datapoints.format;if(!aJ){aJ=[];aJ.push({x:true,number:true,required:true});aJ.push({y:true,number:true,required:true});if(aU.bars.show||(aU.lines.show&&aU.lines.fill)){var aC=!!((aU.bars.show&&aU.bars.zero)||(aU.lines.show&&aU.lines.zero));aJ.push({y:true,number:true,required:false,defaultValue:0,autoscale:aC});if(aU.bars.horizontal){delete aJ[aJ.length-1].y;aJ[aJ.length-1].x=true}}aU.datapoints.format=aJ}if(aU.datapoints.pointsize!=null){continue}aU.datapoints.pointsize=aJ.length;aT=aU.datapoints.pointsize;aS=aU.datapoints.points;var aL=aU.lines.show&&aU.lines.steps;aU.xaxis.used=aU.yaxis.used=true;for(aM=aN=0;aM<aF.length;++aM,aN+=aT){aR=aF[aM];var aQ=aR==null;if(!aQ){for(aP=0;aP<aT;++aP){aX=aR[aP];aH=aJ[aP];if(aH){if(aH.number&&aX!=null){aX=+aX;if(isNaN(aX)){aX=null}else{if(aX==Infinity){aX=aI}else{if(aX==-Infinity){aX=-aI}}}}if(aX==null){if(aH.required){aQ=true}if(aH.defaultValue!=null){aX=aH.defaultValue}}}aS[aN+aP]=aX}}if(aQ){for(aP=0;aP<aT;++aP){aX=aS[aN+aP];if(aX!=null){aH=aJ[aP];if(aH.x){aW(aU.xaxis,aX,aX)}if(aH.y){aW(aU.yaxis,aX,aX)}}aS[aN+aP]=null}}else{if(aL&&aN>0&&aS[aN-aT]!=null&&aS[aN-aT]!=aS[aN]&&aS[aN-aT+1]!=aS[aN+1]){for(aP=0;aP<aT;++aP){aS[aN+aT+aP]=aS[aN+aP]}aS[aN+1]=aS[aN-aT+1];aN+=aT}}}}for(aK=0;aK<am.length;++aK){aU=am[aK];D(O.processDatapoints,[aU,aU.datapoints])}for(aK=0;aK<am.length;++aK){aU=am[aK];aS=aU.datapoints.points,aT=aU.datapoints.pointsize;aJ=aU.datapoints.format;var a0=aV,a3=aV,aZ=aE,a2=aE;for(aM=0;aM<aS.length;aM+=aT){if(aS[aM]==null){continue}for(aP=0;aP<aT;++aP){aX=aS[aM+aP];aH=aJ[aP];if(!aH||aH.autoscale===false||aX==aI||aX==-aI){continue}if(aH.x){if(aX<a0){a0=aX}if(aX>aZ){aZ=aX}}if(aH.y){if(aX<a3){a3=aX}if(aX>a2){a2=aX}}}}if(aU.bars.show){var aG;switch(aU.bars.align){case"left":aG=0;break;case"right":aG=-aU.bars.barWidth;break;case"center":aG=-aU.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aU.bars.align)}if(aU.bars.horizontal){a3+=aG;a2+=aG+aU.bars.barWidth}else{a0+=aG;aZ+=aG+aU.bars.barWidth}}aW(aU.xaxis,a0,aZ);aW(aU.yaxis,a3,a2)}a.each(e(),function(a4,a5){if(a5.datamin==aV){a5.datamin=null}if(a5.datamax==aE){a5.datamax=null}})}function L(aD){var aE=window.devicePixelRatio||1;var aC=aD.webkitBackingStorePixelRatio||aD.mozBackingStorePixelRatio||aD.msBackingStorePixelRatio||aD.oBackingStorePixelRatio||aD.backingStorePixelRatio||1;return aE/aC}function S(aE){var aC=document.createElement("canvas");aC.className=aE;a(aC).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(ad);if(!aC.getContext){if(window.G_vmlCanvasManager){aC=window.G_vmlCanvasManager.initElement(aC)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}var aD=aC.getContext("2d");var aF=L(aD);aC.width=n*aF;aC.height=l*aF;aC.style.width=n+"px";aC.style.height=l+"px";aD.save();aD.scale(aF,aF);return aC}function H(){n=ad.width();l=ad.height();if(n<=0||l<=0){throw new Error("Invalid dimensions for plot, width = "+n+", height = "+l)}}function al(aC){var aD=aC.getContext("2d");var aE=L(aD);if(aC.style.width!=n){aC.width=n*aE;aC.style.width=n+"px"}if(aC.style.height!=l){aC.height=l*aE;aC.style.height=l+"px"}aD.restore();aD.save();aD.scale(aE,aE)}function ar(){var aE,aC=ad.children("canvas.flot-base"),aD=ad.children("canvas.flot-overlay");if(aC.length==0||aD==0){ad.html("");ad.css({padding:0});if(ad.css("position")=="static"){ad.css("position","relative")}H();k=S("flot-base");aa=S("flot-overlay");aE=false}else{k=aC.get(0);aa=aD.get(0);aE=true}o=k.getContext("2d");U=aa.getContext("2d");C=a(aa);if(aE){ad.data("plot").shutdown();ae.resize();U.clearRect(0,0,n,l);C.unbind();ad.children().not([k,aa]).remove()}ad.data("plot",ae)}function j(){if(Y.grid.hoverable){C.mousemove(X);C.bind("mouseleave",W)}if(Y.grid.clickable){C.click(V)}D(O.bindEvents,[C])}function av(){if(ak){clearTimeout(ak)}C.unbind("mousemove",X);C.unbind("mouseleave",W);C.unbind("click",V);D(O.shutdown,[C])}function aq(aC){function aD(aI){return aI}var aG,aF,aH=aC.options.transform||aD,aE=aC.options.inverseTransform;if(aC.direction=="x"){aG=aC.scale=ah/Math.abs(aH(aC.max)-aH(aC.min));aF=Math.min(aH(aC.max),aH(aC.min))}else{aG=aC.scale=af/Math.abs(aH(aC.max)-aH(aC.min));aG=-aG;aF=Math.max(aH(aC.max),aH(aC.min))}if(aH==aD){aC.p2c=function(aI){return(aI-aF)*aG}}else{aC.p2c=function(aI){return(aH(aI)-aF)*aG}}if(!aE){aC.c2p=function(aI){return aF+aI/aG}}else{aC.c2p=function(aI){return aE(aF+aI/aG)}}}function T(aC){var aL=aC.options,aN=aC.ticks||[],aE=aL.labelWidth||0,aD=aL.labelHeight||0,aF=aC.font;o.save();o.font=aF.style+" "+aF.variant+" "+aF.weight+" "+aF.size+"px '"+aF.family+"'";for(var aG=0;aG<aN.length;++aG){var aM=aN[aG];aM.lines=[];aM.width=aM.height=0;if(!aM.label){continue}var aJ=(aM.label+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var aH=0;aH<aJ.length;++aH){var aI={text:aJ[aH]},aK=o.measureText(aI.text);aI.width=aK.width;aI.height=aK.height!=null?aK.height:aF.size;aI.height+=Math.round(aF.size*0.15);aM.width=Math.max(aI.width,aM.width);aM.height+=aI.height;aM.lines.push(aI)}if(aL.labelWidth==null){aE=Math.max(aE,aM.width)}if(aL.labelHeight==null){aD=Math.max(aD,aM.height)}}o.restore();aC.labelWidth=Math.ceil(aE);aC.labelHeight=Math.ceil(aD)}function f(aD){var aI=aD.labelWidth,aH=aD.labelHeight,aK=aD.options.position,aN=aD.options.tickLength,aE=Y.grid.axisMargin,aJ=Y.grid.labelMargin,aC=aD.direction=="x"?aA:aB,aF,aG;var aM=a.grep(aC,function(aO){return aO&&aO.options.position==aK&&aO.reserveSpace});if(a.inArray(aD,aM)==aM.length-1){aE=0}if(aN==null){var aL=a.grep(aC,function(aO){return aO&&aO.reserveSpace});aG=a.inArray(aD,aL)==0;if(aG){aN="full"}else{aN=5}}if(!isNaN(+aN)){aJ+=+aN}if(aD.direction=="x"){aH+=aJ;if(aK=="bottom"){ag.bottom+=aH+aE;aD.box={top:l-ag.bottom,height:aH}}else{aD.box={top:ag.top+aE,height:aH};ag.top+=aH+aE}}else{aI+=aJ;if(aK=="left"){aD.box={left:ag.left+aE,width:aI};ag.left+=aI+aE}else{ag.right+=aI+aE;aD.box={left:n-ag.right,width:aI}}}aD.position=aK;aD.tickLength=aN;aD.box.padding=aJ;aD.innermost=aG}function g(aC){if(aC.direction=="x"){aC.box.left=ag.left-aC.labelWidth/2;aC.box.width=n-ag.left-ag.right+aC.labelWidth}else{aC.box.top=ag.top-aC.labelHeight/2;aC.box.height=l-ag.bottom-ag.top+aC.labelHeight}}function d(){var aF=Y.grid.minBorderMargin,aE={x:0,y:0},aD,aC;if(aF==null){aF=0;for(aD=0;aD<am.length;++aD){aF=Math.max(aF,2*(am[aD].points.radius+am[aD].points.lineWidth/2))}}aE.x=aE.y=Math.ceil(aF);a.each(e(),function(aG,aH){var aI=aH.direction;if(aH.reserveSpace){aE[aI]=Math.ceil(Math.max(aE[aI],(aI=="x"?aH.labelWidth:aH.labelHeight)/2))}});ag.left=Math.max(aE.x,ag.left);ag.right=Math.max(aE.x,ag.right);ag.top=Math.max(aE.y,ag.top);ag.bottom=Math.max(aE.y,ag.bottom)}function at(){var aG,aE=e(),aI=Y.grid.show;for(var aC in ag){var aH=Y.grid.margin||0;ag[aC]=typeof aH=="number"?aH:aH[aC]||0}D(O.processOffset,[ag]);for(var aC in ag){if(typeof(Y.grid.borderWidth)=="object"){ag[aC]+=aI?Y.grid.borderWidth[aC]:0}else{ag[aC]+=aI?Y.grid.borderWidth:0}}a.each(aE,function(aJ,aK){aK.show=aK.options.show;if(aK.show==null){aK.show=aK.used}aK.reserveSpace=aK.show||aK.options.reserveSpace;ao(aK)});if(aI){var aF={style:ad.css("font-style"),size:Math.round(0.8*(+ad.css("font-size").replace("px","")||13)),variant:ad.css("font-variant"),weight:ad.css("font-weight"),family:ad.css("font-family")};var aD=a.grep(aE,function(aJ){return aJ.reserveSpace});a.each(aD,function(aJ,aK){au(aK);ap(aK);aw(aK,aK.ticks);aK.font=a.extend({},aF,aK.options.font);T(aK)});for(aG=aD.length-1;aG>=0;--aG){f(aD[aG])}d();a.each(aD,function(aJ,aK){g(aK)})}ah=n-ag.left-ag.right;af=l-ag.bottom-ag.top;a.each(aE,function(aJ,aK){aq(aK)});R()}function ao(aC){var aH=aC.options,aG=+(aH.min!=null?aH.min:aC.datamin),aF=+(aH.max!=null?aH.max:aC.datamax),aD=aF-aG;if(aD==0){var aI=aF==0?1:0.01;if(aH.min==null){aG-=aI}if(aH.max==null||aH.min!=null){aF+=aI}}else{var aE=aH.autoscaleMargin;if(aE!=null){if(aH.min==null){aG-=aD*aE;if(aG<0&&aC.datamin!=null&&aC.datamin>=0){aG=0}}if(aH.max==null){aF+=aD*aE;if(aF>0&&aC.datamax!=null&&aC.datamax<=0){aF=0}}}}aC.min=aG;aC.max=aF}function au(aC){var aG=aC.options;var aF;if(typeof aG.ticks=="number"&&aG.ticks>0){aF=aG.ticks}else{aF=0.3*Math.sqrt(aC.direction=="x"?n:l)}aC.delta=(aC.max-aC.min)/aF;if(aG.mode=="time"&&!aC.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aC.tickGenerator){aC.tickGenerator=function(aJ){var aN=aG.tickDecimals,aK=-Math.floor(Math.log(aJ.delta)/Math.LN10);if(aN!=null&&aK>aN){aK=aN}var aM=Math.pow(10,-aK),aO=aJ.delta/aM,aQ,aS=[],aR,aL=0,aT=Number.NaN,aP;if(aO<1.5){aQ=1}else{if(aO<3){aQ=2;if(aO>2.25&&(aN==null||aK+1<=aN)){aQ=2.5;++aK}}else{if(aO<7.5){aQ=5}else{aQ=10}}}aQ*=aM;if(aG.minTickSize!=null&&aQ<aG.minTickSize){aQ=aG.minTickSize}aJ.tickDecimals=Math.max(0,aN!=null?aN:aK);aJ.tickSize=aG.tickSize||aQ;aR=b(aJ.min,aJ.tickSize);do{aP=aT;aT=aR+aL*aJ.tickSize;aS.push(aT);++aL}while(aT<aJ.max&&aT!=aP);return aS};aC.tickFormatter=function(aO,aJ){var aL=aJ.tickDecimals?Math.pow(10,aJ.tickDecimals):1;var aM=""+Math.round(aO*aL)/aL;if(aJ.tickDecimals!=null){var aK=aM.indexOf(".");var aN=aK==-1?0:aM.length-aK-1;if(aN<aJ.tickDecimals){return(aN?aM:aM+".")+(""+aL).substr(1,aJ.tickDecimals-aN)}}return aM}}if(a.isFunction(aG.tickFormatter)){aC.tickFormatter=function(aK,aJ){return""+aG.tickFormatter(aK,aJ)}}if(aG.alignTicksWithAxis!=null){var aH=(aC.direction=="x"?aA:aB)[aG.alignTicksWithAxis-1];if(aH&&aH.used&&aH!=aC){var aE=aC.tickGenerator(aC);if(aE.length>0){if(aG.min==null){aC.min=Math.min(aC.min,aE[0])}if(aG.max==null&&aE.length>1){aC.max=Math.max(aC.max,aE[aE.length-1])}}aC.tickGenerator=function(aJ){var aL=[],aM,aK;for(aK=0;aK<aH.ticks.length;++aK){aM=(aH.ticks[aK].v-aH.min)/(aH.max-aH.min);aM=aJ.min+aM*(aJ.max-aJ.min);aL.push(aM)}return aL};if(!aC.mode&&aG.tickDecimals==null){var aD=Math.max(0,-Math.floor(Math.log(aC.delta)/Math.LN10)+1),aI=aC.tickGenerator(aC);if(!(aI.length>1&&/\..*0$/.test((aI[1]-aI[0]).toFixed(aD)))){aC.tickDecimals=aD}}}}}function ap(aC){var aF=aC.options.ticks,aH=[];if(aF==null||(typeof aF=="number"&&aF>0)){aH=aC.tickGenerator(aC)}else{if(aF){if(a.isFunction(aF)){aH=aF(aC)}else{aH=aF}}}var aD,aI;aC.ticks=[];for(aD=0;aD<aH.length;++aD){var aE=null;var aG=aH[aD];if(typeof aG=="object"){aI=+aG[0];if(aG.length>1){aE=aG[1]}}else{aI=+aG}if(aE==null){aE=aC.tickFormatter(aI,aC)}if(!isNaN(aI)){aC.ticks.push({v:aI,label:aE})}}}function aw(aC,aD){if(aC.options.autoscaleMargin&&aD.length>0){if(aC.options.min==null){aC.min=Math.min(aC.min,aD[0].v)}if(aC.options.max==null&&aD.length>1){aC.max=Math.max(aC.max,aD[aD.length-1].v)}}}function q(){o.clearRect(0,0,n,l);D(O.drawBackground,[o]);var aC=Y.grid;if(aC.show&&aC.backgroundColor){s()}if(aC.show&&!aC.aboveData){v();r()}for(var aD=0;aD<am.length;++aD){D(O.drawSeries,[o,am[aD]]);y(am[aD])}D(O.draw,[o]);if(aC.show&&aC.aboveData){v();r()}}function E(aI,aE){var aD,aF,aK,aH,aC=e();for(var aG=0;aG<aC.length;++aG){aD=aC[aG];if(aD.direction==aE){aH=aE+aD.n+"axis";if(!aI[aH]&&aD.n==1){aH=aE+"axis"}if(aI[aH]){aF=aI[aH].from;aK=aI[aH].to;break}}}if(!aI[aH]){aD=aE=="x"?aA[0]:aB[0];aF=aI[aE+"1"];aK=aI[aE+"2"]}if(aF!=null&&aK!=null&&aF>aK){var aJ=aF;aF=aK;aK=aJ}return{from:aF,to:aK,axis:aD}}function s(){o.save();o.translate(ag.left,ag.top);o.fillStyle=I(Y.grid.backgroundColor,af,0,"rgba(255, 255, 255, 0)");o.fillRect(0,0,ah,af);o.restore()}function v(){var aH,aC,aG,aE;o.save();o.translate(ag.left,ag.top);var aK=Y.grid.markings;if(aK){if(a.isFunction(aK)){aC=ae.getAxes();aC.xmin=aC.xaxis.min;aC.xmax=aC.xaxis.max;aC.ymin=aC.yaxis.min;aC.ymax=aC.yaxis.max;aK=aK(aC)}for(aH=0;aH<aK.length;++aH){var aJ=aK[aH],aP=E(aJ,"x"),aS=E(aJ,"y");if(aP.from==null){aP.from=aP.axis.min}if(aP.to==null){aP.to=aP.axis.max}if(aS.from==null){aS.from=aS.axis.min}if(aS.to==null){aS.to=aS.axis.max}if(aP.to<aP.axis.min||aP.from>aP.axis.max||aS.to<aS.axis.min||aS.from>aS.axis.max){continue}aP.from=Math.max(aP.from,aP.axis.min);aP.to=Math.min(aP.to,aP.axis.max);aS.from=Math.max(aS.from,aS.axis.min);aS.to=Math.min(aS.to,aS.axis.max);if(aP.from==aP.to&&aS.from==aS.to){continue}aP.from=aP.axis.p2c(aP.from);aP.to=aP.axis.p2c(aP.to);aS.from=aS.axis.p2c(aS.from);aS.to=aS.axis.p2c(aS.to);if(aP.from==aP.to||aS.from==aS.to){o.beginPath();o.strokeStyle=aJ.color||Y.grid.markingsColor;o.lineWidth=aJ.lineWidth||Y.grid.markingsLineWidth;o.moveTo(aP.from,aS.from);o.lineTo(aP.to,aS.to);o.stroke()}else{o.fillStyle=aJ.color||Y.grid.markingsColor;o.fillRect(aP.from,aS.to,aP.to-aP.from,aS.from-aS.to)}}}aC=e();aG=Y.grid.borderWidth;for(var aI=0;aI<aC.length;++aI){var aD=aC[aI],aF=aD.box,aL=aD.tickLength,aN,aQ,aO,aR;if(!aD.show||aD.ticks.length==0){continue}o.strokeStyle=aD.options.tickColor||a.color.parse(aD.options.color).scale("a",0.22).toString();o.lineWidth=1;if(aD.direction=="x"){aN=0;if(aL=="full"){aQ=(aD.position=="top"?0:af)}else{aQ=aF.top-ag.top+(aD.position=="top"?aF.height:0)}}else{aQ=0;if(aL=="full"){aN=(aD.position=="left"?0:ah)}else{aN=aF.left-ag.left+(aD.position=="left"?aF.width:0)}}if(!aD.innermost){o.beginPath();aO=aR=0;if(aD.direction=="x"){aO=ah}else{aR=af}if(o.lineWidth==1){aN=Math.floor(aN)+0.5;aQ=Math.floor(aQ)+0.5}o.moveTo(aN,aQ);o.lineTo(aN+aO,aQ+aR);o.stroke()}o.beginPath();for(aH=0;aH<aD.ticks.length;++aH){var aM=aD.ticks[aH].v;aO=aR=0;if(isNaN(aM)||aM<aD.min||aM>aD.max||(aL=="full"&&((typeof aG=="object"&&aG[aD.position]>0)||aG>0)&&(aM==aD.min||aM==aD.max))){continue}if(aD.direction=="x"){aN=aD.p2c(aM);aR=aL=="full"?-af:aL;if(aD.position=="top"){aR=-aR}}else{aQ=aD.p2c(aM);aO=aL=="full"?-ah:aL;if(aD.position=="left"){aO=-aO}}if(o.lineWidth==1){if(aD.direction=="x"){aN=Math.floor(aN)+0.5}else{aQ=Math.floor(aQ)+0.5}}o.moveTo(aN,aQ);o.lineTo(aN+aO,aQ+aR)}o.stroke()}if(aG){aE=Y.grid.borderColor;if(typeof aG=="object"||typeof aE=="object"){if(typeof aG!=="object"){aG={top:aG,right:aG,bottom:aG,left:aG}}if(typeof aE!=="object"){aE={top:aE,right:aE,bottom:aE,left:aE}}if(aG.top>0){o.strokeStyle=aE.top;o.lineWidth=aG.top;o.beginPath();o.moveTo(0-aG.left,0-aG.top/2);o.lineTo(ah,0-aG.top/2);o.stroke()}if(aG.right>0){o.strokeStyle=aE.right;o.lineWidth=aG.right;o.beginPath();o.moveTo(ah+aG.right/2,0-aG.top);o.lineTo(ah+aG.right/2,af);o.stroke()}if(aG.bottom>0){o.strokeStyle=aE.bottom;o.lineWidth=aG.bottom;o.beginPath();o.moveTo(ah+aG.right,af+aG.bottom/2);o.lineTo(0,af+aG.bottom/2);o.stroke()}if(aG.left>0){o.strokeStyle=aE.left;o.lineWidth=aG.left;o.beginPath();o.moveTo(0-aG.left/2,af+aG.bottom);o.lineTo(0-aG.left/2,0);o.stroke()}}else{o.lineWidth=aG;o.strokeStyle=Y.grid.borderColor;o.strokeRect(-aG/2,-aG/2,ah+aG,af+aG)}}o.restore()}function r(){o.save();a.each(e(),function(aC,aD){if(!aD.show||aD.ticks.length==0){return}var aE=aD.box,aF=aD.font;o.fillStyle=aD.options.color;o.font=aF.style+" "+aF.variant+" "+aF.weight+" "+aF.size+"px "+aF.family;o.textAlign="start";o.textBaseline="middle";for(var aG=0;aG<aD.ticks.length;++aG){var aK=aD.ticks[aG];if(!aK.label||aK.v<aD.min||aK.v>aD.max){continue}var aL,aM,aJ=0,aI;for(var aH=0;aH<aK.lines.length;++aH){aI=aK.lines[aH];if(aD.direction=="x"){aL=ag.left+aD.p2c(aK.v)-aI.width/2;if(aD.position=="bottom"){aM=aE.top+aE.padding}else{aM=aE.top+aE.height-aE.padding-aK.height}}else{aM=ag.top+aD.p2c(aK.v)-aK.height/2;if(aD.position=="left"){aL=aE.left+aE.width-aE.padding-aI.width}else{aL=aE.left+aE.padding}}aM+=aI.height/2+aJ;aJ+=aI.height;if(!!(window.opera&&window.opera.version().split(".")[0]<12)){aL=Math.floor(aL);aM=Math.ceil(aM-2)}o.fillText(aI.text,aL,aM)}}});o.restore()}function y(aC){if(aC.lines.show){A(aC)}if(aC.bars.show){z(aC)}if(aC.points.show){B(aC)}}function A(aH){function aF(aL,aT,aW,aJ,aK){var aN=aL.points,aQ=aL.pointsize,aO=null,aP=null;o.beginPath();for(var aM=aQ;aM<aN.length;aM+=aQ){var aR=aN[aM-aQ],aU=aN[aM-aQ+1],aS=aN[aM],aV=aN[aM+1];if(aR==null||aS==null){continue}if(aU<=aV&&aU<aK.min){if(aV<aK.min){continue}aR=(aK.min-aU)/(aV-aU)*(aS-aR)+aR;aU=aK.min}else{if(aV<=aU&&aV<aK.min){if(aU<aK.min){continue}aS=(aK.min-aU)/(aV-aU)*(aS-aR)+aR;aV=aK.min}}if(aU>=aV&&aU>aK.max){if(aV>aK.max){continue}aR=(aK.max-aU)/(aV-aU)*(aS-aR)+aR;aU=aK.max}else{if(aV>=aU&&aV>aK.max){if(aU>aK.max){continue}aS=(aK.max-aU)/(aV-aU)*(aS-aR)+aR;aV=aK.max}}if(aR<=aS&&aR<aJ.min){if(aS<aJ.min){continue}aU=(aJ.min-aR)/(aS-aR)*(aV-aU)+aU;aR=aJ.min}else{if(aS<=aR&&aS<aJ.min){if(aR<aJ.min){continue}aV=(aJ.min-aR)/(aS-aR)*(aV-aU)+aU;aS=aJ.min}}if(aR>=aS&&aR>aJ.max){if(aS>aJ.max){continue}aU=(aJ.max-aR)/(aS-aR)*(aV-aU)+aU;aR=aJ.max}else{if(aS>=aR&&aS>aJ.max){if(aR>aJ.max){continue}aV=(aJ.max-aR)/(aS-aR)*(aV-aU)+aU;aS=aJ.max}}if(aR!=aO||aU!=aP){o.moveTo(aJ.p2c(aR)+aT,aK.p2c(aU)+aW)}aO=aS;aP=aV;o.lineTo(aJ.p2c(aS)+aT,aK.p2c(aV)+aW)}o.stroke()}function aG(aN,aK,aL){var aP=aN.points,aQ=aN.pointsize,aM=Math.min(Math.max(0,aL.min),aL.max),aO=0,aT,aJ=false,a0=1,aS=0,aR=0;while(true){if(aQ>0&&aO>aP.length+aQ){break}aO+=aQ;var aU=aP[aO-aQ],aY=aP[aO-aQ+a0],aW=aP[aO],aZ=aP[aO+a0];if(aJ){if(aQ>0&&aU!=null&&aW==null){aR=aO;aQ=-aQ;a0=2;continue}if(aQ<0&&aO==aS+aQ){o.fill();aJ=false;aQ=-aQ;a0=1;aO=aS=aR+aQ;continue}}if(aU==null||aW==null){continue}if(aU<=aW&&aU<aK.min){if(aW<aK.min){continue}aY=(aK.min-aU)/(aW-aU)*(aZ-aY)+aY;aU=aK.min}else{if(aW<=aU&&aW<aK.min){if(aU<aK.min){continue}aZ=(aK.min-aU)/(aW-aU)*(aZ-aY)+aY;aW=aK.min}}if(aU>=aW&&aU>aK.max){if(aW>aK.max){continue}aY=(aK.max-aU)/(aW-aU)*(aZ-aY)+aY;aU=aK.max}else{if(aW>=aU&&aW>aK.max){if(aU>aK.max){continue}aZ=(aK.max-aU)/(aW-aU)*(aZ-aY)+aY;aW=aK.max}}if(!aJ){o.beginPath();o.moveTo(aK.p2c(aU),aL.p2c(aM));aJ=true}if(aY>=aL.max&&aZ>=aL.max){o.lineTo(aK.p2c(aU),aL.p2c(aL.max));o.lineTo(aK.p2c(aW),aL.p2c(aL.max));continue}else{if(aY<=aL.min&&aZ<=aL.min){o.lineTo(aK.p2c(aU),aL.p2c(aL.min));o.lineTo(aK.p2c(aW),aL.p2c(aL.min));continue}}var aV=aU,aX=aW;if(aY<=aZ&&aY<aL.min&&aZ>=aL.min){aU=(aL.min-aY)/(aZ-aY)*(aW-aU)+aU;aY=aL.min}else{if(aZ<=aY&&aZ<aL.min&&aY>=aL.min){aW=(aL.min-aY)/(aZ-aY)*(aW-aU)+aU;aZ=aL.min}}if(aY>=aZ&&aY>aL.max&&aZ<=aL.max){aU=(aL.max-aY)/(aZ-aY)*(aW-aU)+aU;aY=aL.max}else{if(aZ>=aY&&aZ>aL.max&&aY<=aL.max){aW=(aL.max-aY)/(aZ-aY)*(aW-aU)+aU;aZ=aL.max}}if(aU!=aV){o.lineTo(aK.p2c(aV),aL.p2c(aY))}o.lineTo(aK.p2c(aU),aL.p2c(aY));o.lineTo(aK.p2c(aW),aL.p2c(aZ));if(aW!=aX){o.lineTo(aK.p2c(aW),aL.p2c(aZ));o.lineTo(aK.p2c(aX),aL.p2c(aZ))}}}o.save();o.translate(ag.left,ag.top);o.lineJoin="round";var aE=aH.lines.lineWidth,aI=aH.shadowSize;if(aE>0&&aI>0){o.lineWidth=aI;o.strokeStyle="rgba(0,0,0,0.1)";var aC=Math.PI/18;aF(aH.datapoints,Math.sin(aC)*(aE/2+aI/2),Math.cos(aC)*(aE/2+aI/2),aH.xaxis,aH.yaxis);o.lineWidth=aI/2;aF(aH.datapoints,Math.sin(aC)*(aE/2+aI/4),Math.cos(aC)*(aE/2+aI/4),aH.xaxis,aH.yaxis)}o.lineWidth=aE;o.strokeStyle=aH.color;var aD=J(aH.lines,aH.color,0,af);if(aD){o.fillStyle=aD;aG(aH.datapoints,aH.xaxis,aH.yaxis)}if(aE>0){aF(aH.datapoints,0,0,aH.xaxis,aH.yaxis)}o.restore()}function B(aF){function aD(aL,aR,aM,aO,aS,aJ,aK,aT){var aP=aL.points,aQ=aL.pointsize;for(var aN=0;aN<aP.length;aN+=aQ){var aU=aP[aN],aV=aP[aN+1];if(aU==null||aU<aJ.min||aU>aJ.max||aV<aK.min||aV>aK.max){continue}o.beginPath();aU=aJ.p2c(aU);aV=aK.p2c(aV)+aO;if(aT=="circle"){o.arc(aU,aV,aR,0,aS?Math.PI:Math.PI*2,false)}else{aT(o,aU,aV,aR,aS)}o.closePath();if(aM){o.fillStyle=aM;o.fill()}o.stroke()}}o.save();o.translate(ag.left,ag.top);var aC=aF.points.lineWidth,aG=aF.shadowSize,aE=aF.points.radius,aH=aF.points.symbol;if(aC==0){aC=0.0001}if(aC>0&&aG>0){var aI=aG/2;o.lineWidth=aI;o.strokeStyle="rgba(0,0,0,0.1)";aD(aF.datapoints,aE,null,aI+aI/2,true,aF.xaxis,aF.yaxis,aH);o.strokeStyle="rgba(0,0,0,0.2)";aD(aF.datapoints,aE,null,aI/2,true,aF.xaxis,aF.yaxis,aH)}o.lineWidth=aC;o.strokeStyle=aF.color;aD(aF.datapoints,aE,J(aF.points,aF.color),0,false,aF.xaxis,aF.yaxis,aH);o.restore()}function t(aV,aW,aE,aF,aG,aR,aN,aC,aD,aI,aO,aQ){var aP,aS,aH,aU,aK,aL,aM,aJ,aT;if(aO){aJ=aL=aM=true;aK=false;aP=aE;aS=aV;aU=aW+aF;aH=aW+aG;if(aS<aP){aT=aS;aS=aP;aP=aT;aK=true;aL=false}}else{aK=aL=aM=true;aJ=false;aP=aV+aF;aS=aV+aG;aH=aE;aU=aW;if(aU<aH){aT=aU;aU=aH;aH=aT;aJ=true;aM=false}}if(aS<aC.min||aP>aC.max||aU<aD.min||aH>aD.max){return}if(aP<aC.min){aP=aC.min;aK=false}if(aS>aC.max){aS=aC.max;aL=false}if(aH<aD.min){aH=aD.min;aJ=false}if(aU>aD.max){aU=aD.max;aM=false}aP=aC.p2c(aP);aH=aD.p2c(aH);aS=aC.p2c(aS);aU=aD.p2c(aU);if(aN){aI.beginPath();aI.moveTo(aP,aH);aI.lineTo(aP,aU);aI.lineTo(aS,aU);aI.lineTo(aS,aH);aI.fillStyle=aN(aH,aU);aI.fill()}if(aQ>0&&(aK||aL||aM||aJ)){aI.beginPath();aI.moveTo(aP,aH+aR);if(aK){aI.lineTo(aP,aU+aR)}else{aI.moveTo(aP,aU+aR)}if(aM){aI.lineTo(aS,aU+aR)}else{aI.moveTo(aS,aU+aR)}if(aL){aI.lineTo(aS,aH+aR)}else{aI.moveTo(aS,aH+aR)}if(aJ){aI.lineTo(aP,aH+aR)}else{aI.moveTo(aP,aH+aR)}aI.stroke()}}function z(aF){function aE(aK,aI,aJ,aN,aL,aG,aH){var aO=aK.points,aP=aK.pointsize;for(var aM=0;aM<aO.length;aM+=aP){if(aO[aM]==null){continue}t(aO[aM],aO[aM+1],aO[aM+2],aI,aJ,aN,aL,aG,aH,o,aF.bars.horizontal,aF.bars.lineWidth)}}o.save();o.translate(ag.left,ag.top);o.lineWidth=aF.bars.lineWidth;o.strokeStyle=aF.color;var aC;switch(aF.bars.align){case"left":aC=0;break;case"right":aC=-aF.bars.barWidth;break;case"center":aC=-aF.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aF.bars.align)}var aD=aF.bars.fill?function(aG,aH){return J(aF.bars,aF.color,aG,aH)}:null;aE(aF.datapoints,aC,aC+aF.bars.barWidth,0,aD,aF.xaxis,aF.yaxis);o.restore()}function J(aF,aG,aC,aH){var aE=aF.fill;if(!aE){return null}if(aF.fillColor){return I(aF.fillColor,aC,aH,aG)}var aD=a.color.parse(aG);aD.a=typeof aE=="number"?aE:0.4;aD.normalize();return aD.toString()}function R(){ad.find(".legend").remove();if(!Y.legend.show){return}var aH=[],aF=[],aP=false,aL=Y.legend.labelFormatter,aQ,aJ;for(var aI=0;aI<am.length;++aI){aQ=am[aI];if(aQ.label){aJ=aL?aL(aQ.label,aQ):aQ.label;if(aJ){aF.push({label:aJ,color:aQ.color})}}}if(Y.legend.sorted){if(a.isFunction(Y.legend.sorted)){aF.sort(Y.legend.sorted)}else{if(Y.legend.sorted=="reverse"){aF.reverse()}else{var aC=Y.legend.sorted!="descending";aF.sort(function(aS,aT){return aS.label==aT.label?0:((aS.label<aT.label)!=aC?1:-1)})}}}for(var aI=0;aI<aF.length;++aI){var aG=aF[aI];if(aI%Y.legend.noColumns==0){if(aP){aH.push("</tr>")}aH.push("<tr>");aP=true}aH.push('<td class="legendColorBox"><div style="border:1px solid '+Y.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aG.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aG.label+"</td>")}if(aP){aH.push("</tr>")}if(aH.length==0){return}var aR='<table style="font-size:smaller;color:'+Y.grid.color+'">'+aH.join("")+"</table>";if(Y.legend.container!=null){a(Y.legend.container).html(aR)}else{var aO="",aN=Y.legend.position,aM=Y.legend.margin;if(aM[0]==null){aM=[aM,aM]}if(aN.charAt(0)=="n"){aO+="top:"+(aM[1]+ag.top)+"px;"}else{if(aN.charAt(0)=="s"){aO+="bottom:"+(aM[1]+ag.bottom)+"px;"}}if(aN.charAt(1)=="e"){aO+="right:"+(aM[0]+ag.right)+"px;"}else{if(aN.charAt(1)=="w"){aO+="left:"+(aM[0]+ag.left)+"px;"}}var aK=a('<div class="legend">'+aR.replace('style="','style="position:absolute;'+aO+";")+"</div>").appendTo(ad);if(Y.legend.backgroundOpacity!=0){var aD=Y.legend.backgroundColor;if(aD==null){aD=Y.grid.backgroundColor;if(aD&&typeof aD=="string"){aD=a.color.parse(aD)}else{aD=a.color.extract(aK,"background-color")}aD.a=1;aD=aD.toString()}var aE=aK.children();a('<div style="position:absolute;width:'+aE.width()+"px;height:"+aE.height()+"px;"+aO+"background-color:"+aD+';"> </div>').prependTo(aK).css("opacity",Y.legend.backgroundOpacity)}}}var N=[],ak=null;function G(aR,aS,aY){var aO=Y.grid.mouseActiveRadius,aZ=aO*aO+1,aM=null,aK=false,aL,aN,aW;for(aL=am.length-1;aL>=0;--aL){if(!aY(am[aL])){continue}var aX=am[aL],aC=aX.xaxis,aD=aX.yaxis,aV=aX.datapoints.points,aT=aC.c2p(aR),aU=aD.c2p(aS),aP=aO/aC.scale,aQ=aO/aD.scale;aW=aX.datapoints.pointsize;if(aC.options.inverseTransform){aP=Number.MAX_VALUE}if(aD.options.inverseTransform){aQ=Number.MAX_VALUE}if(aX.lines.show||aX.points.show){for(aN=0;aN<aV.length;aN+=aW){var a0=aV[aN],a1=aV[aN+1];if(a0==null){continue}if(a0-aT>aP||a0-aT<-aP||a1-aU>aQ||a1-aU<-aQ){continue}var aI=Math.abs(aC.p2c(a0)-aR),aJ=Math.abs(aD.p2c(a1)-aS),aH=aI*aI+aJ*aJ;if(aH<aZ){aZ=aH;aM=[aL,aN/aW]}}}if(aX.bars.show&&!aM){var aF=aX.bars.align=="left"?0:-aX.bars.barWidth/2,aG=aF+aX.bars.barWidth;for(aN=0;aN<aV.length;aN+=aW){var a0=aV[aN],a1=aV[aN+1],aE=aV[aN+2];if(a0==null){continue}if(am[aL].bars.horizontal?(aT<=Math.max(aE,a0)&&aT>=Math.min(aE,a0)&&aU>=a1+aF&&aU<=a1+aG):(aT>=a0+aF&&aT<=a0+aG&&aU>=Math.min(aE,a1)&&aU<=Math.max(aE,a1))){aM=[aL,aN/aW]}}}}if(aM){aL=aM[0];aN=aM[1];aW=am[aL].datapoints.pointsize;return{datapoint:am[aL].datapoints.points.slice(aN*aW,(aN+1)*aW),dataIndex:aN,series:am[aL],seriesIndex:aL}}return null}function X(aC){if(Y.grid.hoverable){ax("plothover",aC,function(aD){return aD.hoverable!=false})}}function W(aC){if(Y.grid.hoverable){ax("plothover",aC,function(aD){return false})}}function V(aC){ax("plotclick",aC,function(aD){return aD.clickable!=false})}function ax(aF,aE,aL){var aJ=C.offset(),aC=aE.pageX-aJ.left-ag.left,aD=aE.pageY-aJ.top-ag.top,aK=m({left:aC,top:aD});aK.pageX=aE.pageX;aK.pageY=aE.pageY;var aI=G(aC,aD,aL);if(aI){aI.pageX=parseInt(aI.series.xaxis.p2c(aI.datapoint[0])+aJ.left+ag.left,10);aI.pageY=parseInt(aI.series.yaxis.p2c(aI.datapoint[1])+aJ.top+ag.top,10)}if(Y.grid.autoHighlight){for(var aH=0;aH<N.length;++aH){var aG=N[aH];if(aG.auto==aF&&!(aI&&aG.series==aI.series&&aG.point[0]==aI.datapoint[0]&&aG.point[1]==aI.datapoint[1])){az(aG.series,aG.point)}}if(aI){M(aI.series,aI.datapoint,aF)}}ad.trigger(aF,[aK,aI])}function ay(){var aC=Y.interaction.redrawOverlayInterval;if(aC==-1){w();return}if(!ak){ak=setTimeout(w,aC)}}function w(){ak=null;U.save();U.clearRect(0,0,n,l);U.translate(ag.left,ag.top);var aD,aC;for(aD=0;aD<N.length;++aD){aC=N[aD];if(aC.series.bars.show){u(aC.series,aC.point)}else{x(aC.series,aC.point)}}U.restore();D(O.drawOverlay,[U])}function M(aG,aE,aC){if(typeof aG=="number"){aG=am[aG]}if(typeof aE=="number"){var aF=aG.datapoints.pointsize;aE=aG.datapoints.points.slice(aF*aE,aF*(aE+1))}var aD=P(aG,aE);if(aD==-1){N.push({series:aG,point:aE,auto:aC});ay()}else{if(!aC){N[aD].auto=false}}}function az(aE,aD){if(aE==null&&aD==null){N=[];ay()}if(typeof aE=="number"){aE=am[aE]}if(typeof aD=="number"){aD=aE.data[aD]}var aC=P(aE,aD);if(aC!=-1){N.splice(aC,1);ay()}}function P(aF,aE){for(var aD=0;aD<N.length;++aD){var aC=N[aD];if(aC.series==aF&&aC.point[0]==aE[0]&&aC.point[1]==aE[1]){return aD}}return -1}function x(aI,aF){var aJ=aF[0],aK=aF[1],aC=aI.xaxis,aD=aI.yaxis,aE=(typeof aI.highlightColor==="string")?aI.highlightColor:a.color.parse(aI.color).scale("a",0.5).toString();if(aJ<aC.min||aJ>aC.max||aK<aD.min||aK>aD.max){return}var aG=aI.points.radius+aI.points.lineWidth/2;U.lineWidth=aG;U.strokeStyle=aE;var aH=1.5*aG;aJ=aC.p2c(aJ);aK=aD.p2c(aK);U.beginPath();if(aI.points.symbol=="circle"){U.arc(aJ,aK,aH,0,2*Math.PI,false)}else{aI.points.symbol(U,aJ,aK,aH,false)}U.closePath();U.stroke()}function u(aG,aF){var aE=(typeof aG.highlightColor==="string")?aG.highlightColor:a.color.parse(aG.color).scale("a",0.5).toString(),aD=aE,aC=aG.bars.align=="left"?0:-aG.bars.barWidth/2;U.lineWidth=aG.bars.lineWidth;U.strokeStyle=aE;t(aF[0],aF[1],aF[2]||0,aC,aC+aG.bars.barWidth,0,function(){return aD},aG.xaxis,aG.yaxis,U,aG.bars.horizontal,aG.bars.lineWidth)}function I(aJ,aC,aK,aF){if(typeof aJ=="string"){return aJ}else{var aG=o.createLinearGradient(0,aK,0,aC);for(var aH=0,aI=aJ.colors.length;aH<aI;++aH){var aD=aJ.colors[aH];if(typeof aD!="string"){var aE=a.color.parse(aF);if(aD.brightness!=null){aE=aE.scale("rgb",aD.brightness)}if(aD.opacity!=null){aE.a*=aD.opacity}aD=aE.toString()}aG.addColorStop(aH/(aI-1),aD)}return aG}}}a.plot=function(f,d,e){var g=new c(a(f),d,e,a.plot.plugins);return g};a.plot.version="0.8-alpha";a.plot.plugins=[];a.fn.plot=function(d,e){return this.each(function(){a.plot(this,d,e)})};function b(e,d){return d*Math.floor(e/d)}})(jQuery);